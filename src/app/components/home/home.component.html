<!--<div class="row justify-content-between">-->
<!--  <div class="connection-panel d-inline-block">-->
<!--    <img src="../../../assets/image/mysql-logo.svg" alt="mysql">-->
<!--  </div>-->
<!--  <div class="connection-panel d-inline-block">-->
<!--    <img src="../../../assets/image/postgresql-logo.png" alt="mysql">-->
<!--  </div>-->

<!--</div>-->
<i class="fe fe-plus" id="new-connection-btn" (click)="open(modalConnectionTemplate)">&nbsp;สร้าง Connection ใหม่</i>

<div class="row" *ngIf="currentUserDefinedConnection?.instance">
  You have been connecting to {{currentUserDefinedConnection?.instance.name}}
</div>

<div class="row" *ngIf="!currentUserDefinedConnection?.instance">
  <div class="connection-panel d-inline-block" *ngFor="let conn of userDefinedConnections" (click)="connect(conn.name)">
    <ul>
      <li>{{conn.name}}@{{conn.host}}</li>
    </ul>
  </div>
</div>

<ng-template #modalConnectionTemplate let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="modal-basic-title">สร้าง Connection ใหม่</h5>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ngb-tabset>
      <ngb-tab title="MySQL">
        <ng-template ngbTabContent>
          <div class="custom-tab-content">
            <div class="form-group row">
              <label for="connectionName" class="col-3 col-form-label">Connection Name</label>
              <div class="col-9">
                <input type="text" class="form-control" id="connectionName" [(ngModel)]="newConnection.name">
              </div>
            </div>
            <div class="form-group row">
              <label for="hostname" class="col-3 col-form-label">Host Name</label>
              <div class="col-5">
                <input type="text" class="form-control" id="hostname" [(ngModel)]="newConnection.host">
              </div>
              <label for="port" class="col-1 col-form-label">Port</label>
              <div class="col-3">
                <input type="text" class="form-control" id="port" [(ngModel)]="newConnection.port">
              </div>
            </div>
            <div class="form-group row">
              <label for="database" class="col-3 col-form-label">Database</label>
              <div class="col-9">
                <input type="text" class="form-control" id="database" [(ngModel)]="newConnection.database">
              </div>
            </div>
            <div class="form-group row">
              <label for="username" class="col-3 col-form-label">Username</label>
              <div class="col-9">
                <input type="text" class="form-control" id="username" [(ngModel)]="newConnection.username">
              </div>
            </div>
            <div class="form-group row">
              <label for="password" class="col-3 col-form-label">Password</label>
              <div class="col-9">
                <div class="input-group">
                  <input type="text" class="form-control" id="password" [(ngModel)]="newConnection.password">
                  <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="button"><i class="fe fe-eye"></i></button>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group row">
              <div class="offset-3 col-9">
                <button class="btn btn-outline-dark" (click)="testConnection()">Test Connection</button>
              </div>
            </div>
            <div class="form-group row" *ngIf="connectionStatus && connectionStatus.status">
              <div class="col">
                <div class="alert alert-{{connectionStatus.status == 'SUCCESS'? 'success': 'danger'}}" role="alert">
                  <i class="fe {{connectionStatus.status == 'SUCCESS'? 'fe-check': 'fe-warning'}}"></i>&nbsp;{{connectionStatus.message}}
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </ngb-tab>
      <ngb-tab title="PostgreSQL">
        <ng-template ngbTabContent>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="saveConnection(); modal.close('Save click')">บันทึก</button>
    </div>
  </div>
</ng-template>
